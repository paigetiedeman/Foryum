(this.webpackJsonpforyum=this.webpackJsonpforyum||[]).push([[0],{30:function(e,t,i){},32:function(e,t,i){},33:function(e,t,i){"use strict";i.r(t);var n=i(1),c=i.n(n),o=i(6),r=i.n(o),s=i(0);var a=function(){return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("h1",{className:"title",children:"Foryum Recipe's"}),Object(s.jsx)("br",{})]})},d=i(14),l=i(15),u=i(18),p=i(17),j=i(35);var m=function(e){return Object(s.jsxs)(c.a.Fragment,{children:[Object(s.jsxs)("form",{onSubmit:e.formSubmissionHandler,children:[Object(s.jsx)("input",{type:"text",name:"title",placeholder:"Chicken Doodle Sup",className:"form-control"}),Object(s.jsx)("br",{}),Object(s.jsx)("input",{type:"number",name:"time",placeholder:"60",className:"form-control"}),Object(s.jsx)("br",{}),Object(s.jsx)("textarea",{name:"description",placeholder:"Describe your ingredients and if there really is such a thing as love, or if it is just nostalgia for a safe time",className:"form-control"}),Object(s.jsx)("br",{}),Object(s.jsx)("button",{type:"submit",className:"btn btn-dark",children:e.buttonText})]}),Object(s.jsx)("br",{})]})},b=i(11),h=i.n(b);var O=function(e){return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)(m,{formSubmissionHandler:function(t){t.preventDefault(),e.onNewRecipeCreation({title:t.target.title.value,time:t.target.time.value,description:t.target.description.value,upvoteCount:0,downvoteCount:0,id:Object(j.a)(),timeOpen:new h.a,formattedWaitTime:(new h.a).fromNow(!0)})},buttonText:"Add Recipe"})})};var v=function(e){return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("div",{children:[Object(s.jsx)("h2",{children:e.title}),Object(s.jsx)("p",{children:Object(s.jsxs)("em",{children:["Time to Cook: ",e.time," minutes"]})}),Object(s.jsx)("div",{onClick:function(){return e.onUpVoteClick(e.id)},className:"arrowbtn arrowbtn-up",children:Object(s.jsx)("p",{children:" ^"})}),Object(s.jsxs)("p",{className:"yumm",children:["Yumms: ",e.upvoteCount]}),Object(s.jsx)("div",{children:Object(s.jsx)("p",{onClick:function(){return e.onDownVoteClick(e.id)},className:"arrowbtn arrowbtn-down",children:"^"})}),Object(s.jsxs)("p",{className:"yumm yuck",children:["Yucks : ",e.downvoteCount," "]}),Object(s.jsx)("p",{children:Object(s.jsx)("em",{children:e.formattedWaitTime})}),Object(s.jsx)("button",{onClick:function(){return e.whenRecipeClicked(e.id)},className:"btn btn-dark",children:"Details"}),Object(s.jsx)("hr",{})]})})};var f=function(e){return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("hr",{}),Object.values(e.recipeList).map((function(t){return Object(s.jsx)(v,{whenRecipeClicked:e.onRecipeSelection,title:t.title,time:t.time,description:t.description,formattedWaitTime:t.formattedWaitTime,upvoteCount:t.upvoteCount,downvoteCount:t.downvoteCount,onUpVoteClick:e.onUpvote,onDownVoteClick:e.onDownvote,id:t.id},t.id)}))]})};var x=function(e){var t=e.recipe;return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("h2",{children:"Recipe Details"}),Object(s.jsx)("h3",{children:t.title}),Object(s.jsx)("p",{children:Object(s.jsxs)("em",{children:["Time to Cook: ",t.time," minutes"]})}),Object(s.jsxs)("p",{children:["Ingredients: ",t.description]}),Object(s.jsxs)("p",{children:["Posted: ",Object(s.jsx)("em",{children:t.formattedWaitTime})]}),Object(s.jsxs)("p",{children:["\u2b06\ufe0f ",t.upvoteCount," \u2b07\ufe0f ",t.downvoteCount]}),Object(s.jsx)("button",{onClick:function(){return e.onClickingDelete(t.id)},className:"btn btn-dark space",children:"Delete Recipe"}),Object(s.jsx)("button",{onClick:e.onClickingEdit,className:"btn btn-dark space",children:"Update Recipe"})]})};var C=function(e){var t=e.recipe;return Object(s.jsx)(c.a.Fragment,{children:Object(s.jsx)(m,{formSubmissionHandler:function(i){i.preventDefault(),e.onEditRecipe({title:i.target.title.value,time:i.target.time.value,description:i.target.description.value,id:t.id,timeOpen:t.timeOpen,formattedWaitTime:t.formattedWaitTime})},buttonText:"Update Recipe"})})},g=i(7),R="ADD_RECIPE",w="TOGGLE_FORM",k="DELETE_RECIPE",T="UPDATE_TIME",E="UPVOTE",y="DOWNVOTE",D=function(){return{type:w}},N=function(e){var t=e.title,i=e.time,n=e.description,c=e.id,o=e.upvoteCount,r=e.downvoteCount,s=e.timeOpen,a=e.formattedWaitTime;return{type:R,title:t,time:i,description:n,id:c,upvoteCount:o,downvoteCount:r,formattedWaitTime:a,timeOpen:s}},W=function(e){Object(u.a)(i,e);var t=Object(p.a)(i);function i(e){var n;return Object(d.a)(this,i),(n=t.call(this,e)).updateRecipeElapsedWaitTime=function(){var e=n.props.dispatch;Object.values(n.props.mainRecipeList).forEach((function(t){var i,n=t.timeOpen.fromNow(!0),c=(i=t.id,{type:T,id:i,formattedWaitTime:n});e(c)}))},n.handleClick=function(){null!=n.state.selectedRecipe?n.setState({selectedRecipe:null,editing:!1}):(0,n.props.dispatch)(D())},n.handleAddingNewRecipeToList=function(e){var t=n.props.dispatch;t(N(e)),t(D())},n.handleChangingSelectedRecipe=function(e){var t=n.props.mainRecipeList[e];n.setState({selectedRecipe:t})},n.handleDeletingRecipe=function(e){var t=n.props.dispatch,i=function(e){return{type:k,id:e}}(e);t(i),n.setState({selectedRecipe:null})},n.handleEditClick=function(){n.setState({editing:!0})},n.handleEditingRecipeInList=function(e){(0,n.props.dispatch)(N(e)),n.setState({editing:!1,selectedRecipe:null})},n.handleUpvote=function(e){var t=n.props.dispatch,i=function(e){return{type:E,id:e}}(e);t(i)},n.handleDownvote=function(e){var t=n.props.dispatch,i=function(e){return{type:y,id:e}}(e);t(i)},n.state={selectedRecipe:null,editing:!1},n}return Object(l.a)(i,[{key:"componentDidMount",value:function(){var e=this;this.waitTimeUpdateTimer=setInterval((function(){return e.updateRecipeElapsedWaitTime()}),6e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.waitTimeUpdateTimer)}},{key:"render",value:function(){var e=null,t=null;return this.state.editing?(e=Object(s.jsx)(C,{recipe:this.state.selectedRecipe,onEditRecipe:this.handleEditingRecipeInList}),t="Return to Recipe Forum"):null!=this.state.selectedRecipe?(e=Object(s.jsx)(x,{recipe:this.state.selectedRecipe,onClickingDelete:this.handleDeletingRecipe,onClickingEdit:this.handleEditClick}),t="Return to Recipe List"):this.props.formVisibleOnPage?(e=Object(s.jsx)(O,{onNewRecipeCreation:this.handleAddingNewRecipeToList}),t="Return to Recipe List"):(e=Object(s.jsx)(f,{recipeList:this.props.mainRecipeList,onRecipeSelection:this.handleChangingSelectedRecipe,onUpvote:this.handleUpvote,onDownvote:this.handleDownvote}),t="Add Recipe"),Object(s.jsxs)(s.Fragment,{children:[e,Object(s.jsx)("button",{onClick:this.handleClick,className:"btn btn-dark",children:t})]})}}]),i}(c.a.Component),L=W=Object(g.b)((function(e){return{mainRecipeList:function(e){var t=Object.entries(e).sort((function(e,t){return t[1].upvoteCount-t[1].downvoteCount-(e[1].upvoteCount-e[1].downvoteCount)}));return Object.fromEntries(t)}(e.mainRecipeList),formVisibleOnPage:e.formVisibleOnPage}}))(W);i(30);var S=function(){return Object(s.jsxs)("div",{className:"App container",children:[Object(s.jsx)(a,{}),Object(s.jsx)(L,{})]})},U=(i(31),i(32),i(4)),F=i(8),V=i(5),I=Object(U.b)({formVisibleOnPage:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;return t.type===w?!e:e},mainRecipeList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,i=t.title,n=t.time,c=t.description,o=t.id,r=t.upvoteCount,s=t.downvoteCount,a=t.timeOpen,d=t.formattedWaitTime;switch(t.type){case R:return Object.assign({},e,Object(V.a)({},o,{title:i,time:n,description:c,id:o,upvoteCount:r,downvoteCount:s,timeOpen:a,formattedWaitTime:d}));case k:var l=Object(F.a)({},e);return delete l[o],l;case E:var u=Object(F.a)({},e);return u[o].upvoteCount++,u;case y:var p=Object(F.a)({},e);return p[o].downvoteCount++,p;case T:var j=Object.assign({},e[o],{formattedWaitTime:d}),m=Object.assign({},e,Object(V.a)({},o,j));return m;default:return e}}}),P=I,A=Object(U.c)(P);A.subscribe((function(){return console.log(A.getState())})),r.a.render(Object(s.jsx)(g.a,{store:A,children:Object(s.jsx)(S,{})}),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.51abba2b.chunk.js.map